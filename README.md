<h1 align="center">ポートフォリオ紹介</h1>

## アプリケーション名

  「Shop Search」

## アプリケーション概要

   都道府県、市区町村、キーワードからお店を検索できるアプリです。
   検索にはYahooAPIを利用していて、リアルタイムな情報を閲覧できます。

## 開発環境

* Node.js バージョン: 14.17.0
* 開発言語: JavaScript
* フレームワーク: Express
* パッケージマネージャー: yarn
* RDBMS: MySQL
* エディタ: VisualStudioCode
* OS: macOS13

## 開発の目的

   開発の目的は、主に二つあります。
   一つ目にNode.js環境でのアプリ開発における認証、DB操作、環境変数の利用等の基本的な技術を習得すること、二つ目にWebAPIを利用したアプリ開発の流れを習得し、開発の幅を広げることです。

## 工夫したこと

   市区町村の選択は、常に最新の情報が得られるよう、都道府県を選択後、動的に値をセットするようにnode-fetchモジュールと国土交通省の都道府県内市区町村一覧取得APIを利用して実現しました。

## 苦労したこと

   WebAPIにアクセスし、データを取得する際に非同期処理が多く、エラーハンドリングやJavaScriptオブジェクトへのパース処理等、適切なタイミングで処理が実行されるように、試行錯誤を繰り返したことです。

## 機能紹介

### ユーザー認証

   <p>
   <img src="https://user-images.githubusercontent.com/99377294/226149591-712021cb-fb99-4edf-9081-717f0efb421d.png" width="240" align="left" hspace="5">
   ログイン、サインアップフォームのバリデーションにはExpressValidatorを利用しています。
   メッセージはコーディングせず、i18nモジュールを使い、別ファイルから取得するように工夫しました。
   <br>
   認証処理はPassport.jsとコンフィギュレーションファイルを使い、未認証の場合にはトップページにリダイレクトするように設定することで実現しています。
   </p>
   <br clear="all"></br>

   ---

### 店舗検索

   <p>
   <img src="https://user-images.githubusercontent.com/99377294/226149601-ec2295e2-fd1c-45da-bc4e-24f9090f41cd.png" width="240" align="left" hspace="5">
   都道府県をセレクターで指定した際に都道府県コードを取得し、クライアントサイドでWebAPIにフェッチします。
   <br>
   データ取得後、市区町村セレクターに市区町村名と市区町村コードを設定します。
   <br>
   入力されたキーワードと市区町村コードをYahooローカルサーチAPIに渡してデータを取得し、結果を一覧表示します。
   </p>
   <br clear="all"></br>

   ---

### 店舗詳細表示

   <p>
   <img src="https://user-images.githubusercontent.com/99377294/226149609-03321f92-4963-435e-8f0d-547b28f6bd4a.png" width="240" align="left" hspace="5">
   個別の店舗データを加工して詳細画面に表示させます。
   <br>
   undefinedを判定してデータが未設定の場合は、個別に代替テキストを挿入しています。
   <br>
   レイアウトにはBootstrapを使用して、シンプルなレイアウトになるよう心がけました。
   <br>
   店舗画像は均一な比率で表示されるようにCSSを設定しています。
   </p>
   <br clear="all"></br>

   ---
